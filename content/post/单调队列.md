---
title: "特殊的数据结构"
date: 2021-12-24T16:33:30+08:00
draft: false
description: "单调队列，单调栈等等"
---

单调队列是一种特殊的数据结构，类比于队列，它具有一种单调性，即队列中的元素单调递增或者单调递减。

### 单调队列

我们理解单调队列之前先要理解什么是双端队列，一般的队列只能一端进一端出，而双端队列则是在两端都可以进行进队出队的操作。

而单调队列的入队方式同样也是在队尾添加元素，不过需要将前面的比其小的元素都删除。

```go
type dqueue []int

func (d *dqueue) Push(x int) {
	for len(*d) != 0 && (*d)[len(*d)-1] < x {
		// 移除前面比该值小的数
		*d = (*d)[:len(*d)-1]
	}
	*d = append(*d, x)
}

func (d *dqueue) Max() int {
	if len(*d) == 0 {
		return -1
	}
	return (*d)[0]
}

func (d *dqueue) Pop(n int) {
	if len(*d) != 0 && (*d)[0] == n {
		*d = (*d)[1:]
	}
}
```

#### 例题： [滑动窗口最大值](https://leetcode-cn.com/leetbook/read/top-interview-questions/xatgye/)

```go
func maxSlidingWindowQueue(nums []int, k int) []int {
	// 使用单调队列或者是 优先队列 优先队列存储的索引，但是按照的是最大值进行的排序
	res := make([]int, 0)
	i, j := 0, 0
	q := make(dqueue, 0)
	for j <= len(nums) {
		if j-i < k {
			q.Push(nums[j])
		} else {
			t := nums[i]
			res = append(res, q.Max())
			q.Pop(t)
			if j < len(nums) {
				q.Push(nums[j])
			}
			i++
		}
		j++
	}
	return res
}
```





